# History - 2026년 1월 5일 (월요일)

## 요청 내용

할 일 상세 모달의 헤더 디자인을 다른 모달들과 일치시키고, 닫기 버튼 대신 수정 버튼과 삭제 버튼을 추가하며, 해당 버튼 클릭 시 할 일 수정 모달 또는 삭제 확인 모달을 열도록 수정.

## 작업 내용

사용자의 요청에 따라 할 일 상세 모달 (`TaskDetailModal.tsx`)의 헤더 디자인을 개선하고, 기능 버튼을 추가했습니다.

### 1. `src/components/TaskDetailModal.tsx` 파일 수정
- 헤더 디자인을 다른 모달 (`TaskEditorModal.tsx`)과 일관되게 맞추기 위해 제목 (`h2`)과 버튼들을 유연하게 배치하도록 수정했습니다.
- 기존의 `XCircle` 닫기 버튼을 제거하고, 대신 '수정', '삭제', '닫기' 버튼을 포함하는 액션 그룹을 헤더에 추가했습니다.
- `onEditTask: (task: Task) => void;` 와 `onDeleteTask: (taskId: number) => void;` prop을 `TaskDetailModalProps`에 추가했습니다.
- '수정' 버튼 클릭 시 `onEditTask` prop을 호출하여 `TaskEditorModal`을 열도록 했습니다. (클릭 이벤트 전파 방지 `e.stopPropagation()` 적용)
- '삭제' 버튼 클릭 시 `onDeleteTask` prop을 호출하여 `ConfirmDeleteModal`을 열도록 했습니다. (클릭 이벤트 전파 방지 `e.stopPropagation()` 적용)
- '닫기' 버튼은 `X` 아이콘으로 변경되었으며, 클릭 시 `onClose` prop을 호출합니다.
- 하단에 있던 "닫기" 버튼은 제거되었습니다.

```typescript
// src/components/TaskDetailModal.tsx (주요 내용 요약)
import { CalendarDays, Tag, Edit, Trash, X } from 'lucide-react'; // Edit, Trash, X 아이콘 임포트
// ...
interface TaskDetailModalProps {
  // ...
  onEditTask: (task: Task) => void;   // 수정 기능 prop 추가
  onDeleteTask: (taskId: number) => void; // 삭제 기능 prop 추가
}
const TaskDetailModal: React.FC<TaskDetailModalProps> = ({ isOpen, onClose, task, onEditTask, onDeleteTask }) => {
  // ...
  const handleEditClick = (e: React.MouseEvent) => { /* ... */ onEditTask(task); };
  const handleDeleteClick = (e: React.MouseEvent) => { /* ... */ onDeleteTask(task.id!); };
  return (
    // ...
        <div className="flex justify-between items-start mb-4">
          <h2 className="text-2xl font-bold text-gray-900 dark:text-white">할 일 상세</h2>
          <div className="flex items-center space-x-2">
            <button onClick={handleEditClick} title="수정"><Edit /></button>
            <button onClick={handleDeleteClick} title="삭제"><Trash /></button>
            <button onClick={onClose}><X /></button>
          </div>
        </div>
        {/* ... Task Details ... */}
    // ...
  );
};
```

### 2. `src/components/DailyDetailArea.tsx` 파일 수정
- `TaskDetailModal` 컴포넌트 렌더링 시, 새로 추가된 `onEditTask`와 `onDeleteTask` prop에 `handleEditTask`와 `handleDeleteTask` 함수를 연결하여 전달했습니다.

```typescript
// src/components/DailyDetailArea.tsx (주요 내용 요약)
const DailyDetailArea: React.FC<DailyDetailAreaProps> = ({ selectedDate }) => {
  // ...
  return (
    // ...
      <TaskDetailModal
        isOpen={isTaskDetailModalOpen}
        onClose={() => { /* ... */ }}
        task={taskToView}
        onEditTask={handleEditTask}   // handleEditTask 연결
        onDeleteTask={handleDeleteTask} // handleDeleteTask 연결
      />
    </div>
  );
};
```

### 3. 테스트
- 프로젝트에 별도의 테스트 프레임워크 설정이 없어 자동화된 단위 테스트를 추가하지 못했습니다. 대신, 사용자에게 애플리케이션을 실행하여 수동으로 기능 변경 사항을 확인할 것을 안내했습니다.

### 4. 커밋
- 위의 모든 변경 사항은 하나의 커밋으로 저장되었습니다.
  `feat: Redesign TaskDetailModal header with edit/delete actions`
