# 작업 히스토리 - 2026-01-09 (2)

## 작업 내용
프로젝트 목록의 순서를 사용자가 자유롭게 변경할 수 있도록 드래그 앤 드롭 정렬 기능을 구현했습니다.

### 주요 변경 사항
1.  **데이터베이스 스키마 변경** (`src/db.ts`, `src/types/project.ts`)
    *   `Project` 인터페이스에 `order` 필드(number)를 추가했습니다.
    *   `AppDB` 버전 4 마이그레이션을 추가하여 기존 프로젝트에 순차적인 `order` 값을 부여했습니다.
2.  **드래그 앤 드롭 UI 구현** (`src/components/Sidebar.tsx`)
    *   `@dnd-kit` 라이브러리를 도입하여 리스트 정렬 기능을 구현했습니다.
    *   `SortableContext`와 `SortableProjectItem`을 사용하여 리스트 아이템을 드래그 가능하게 만들었습니다.
    *   `DragOverlay`를 사용하여 드래그 중인 아이템을 전역 레벨에서 시각적으로 표시했습니다.
    *   드래그 핸들 아이콘(`GripVertical`)을 추가하여 UX를 개선했습니다.
3.  **정렬 로직 구현** (`src/App.tsx`)
    *   DB에서 프로젝트 목록을 불러올 때 `order` 필드를 기준으로 정렬하도록 수정했습니다.
    *   새 프로젝트 추가 시 가장 마지막 순서(`maxOrder + 1`)를 부여하도록 로직을 수정했습니다.
    *   `handleReorderProjects` 함수를 구현하여 순서 변경 시 DB에 `order` 값을 일괄 업데이트하도록 처리했습니다.

### 관련 파일
- `src/db.ts`
- `src/types/project.ts`
- `src/App.tsx`
- `src/components/Sidebar.tsx`
- `package.json`

### 커밋 정보
- **Message**: `feat: add drag-and-drop sorting for projects`
- **Hash**: `a6d0436` (Local)
