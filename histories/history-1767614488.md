## 2026년 1월 5일 (월) - 할 일 상세 모달 버그 수정

### 버그 내용

1.  **할 일 상세 모달에서 수정 버튼 클릭 시 수정 모달이 할 일 상세 모달에 가려져서 안 보이는 버그 수정**
    *   `TaskDetailModal`의 z-index가 `TaskEditorModal`보다 낮거나, `TaskDetailModal`이 닫히지 않아 발생하는 문제.
2.  **할 일 상세 모달에서 삭제 버튼 클릭 시 확인 모달 없이 할 일이 삭제되는 버그 수정**
    *   사용자에게 삭제 전 확인 절차를 거치지 않고 바로 삭제되는 문제.

### 해결 과정

1.  **할 일 상세 모달에서 수정 버튼 클릭 시 수정 모달이 가려지는 문제 해결:**
    *   `src/components/TaskDetailModal.tsx` 파일에서 `handleEditClick` 함수 내부에 `onClose()`를 추가하여 수정 버튼 클릭 시 `TaskDetailModal`이 닫히도록 수정.

2.  **할 일 삭제 시 확인 모달 추가:**
    *   `src/components/TaskDetailModal.tsx` 파일에 `useState` 훅을 사용하여 `showConfirmDeleteModal` 상태를 추가.
    *   `handleDeleteClick` 함수가 호출될 때 `showConfirmDeleteModal(true)`를 설정하여 `ConfirmDeleteModal`이 열리도록 변경.
    *   `handleConfirmDelete` 함수를 추가하여 사용자가 삭제를 확정하면 `onDeleteTask`를 호출하고 모달을 닫도록 구현.
    *   `handleCancelDelete` 함수를 추가하여 삭제 취소 시 모달을 닫도록 구현.
    *   `TaskDetailModal` JSX 내부에 `ConfirmDeleteModal`을 조건부 렌더링하도록 추가.
    *   `src/components/ConfirmDeleteModal.tsx` 파일의 제목과 메시지를 "삭제 확인", "정말로 이 항목을 삭제하시겠습니까?"로 수정하여 재사용성을 높임.

3.  **빌드 에러 및 린트 에러 수정:**
    *   **`src/components/TaskDetailModal.tsx` 및 `src/components/TaskEditorModal.tsx`:** 사용되지 않는 `type Goal` import 제거.
    *   **`src/components/GoalSelectionBottomSheet.tsx`:** 사용되지 않는 `type Goal` import 제거.
    *   **`src/components/TaskItem.tsx`:**
        *   사용되지 않는 `MoreVertical`, `Edit`, `Trash` icon import 제거.
        *   사용되지 않는 `isMenuOpen` 상태 및 `handleEditClick`, `handleDeleteClick` 함수 제거.
        *   `handleToggleComplete` 함수의 시그니처를 `(completed: boolean)`으로 변경하여 `Checkbox` 컴포넌트의 `onChange` prop 타입과 일치시킴.
        *   `TaskItemProps`에서 `onEdit`, `onDelete` prop 제거.
    *   **`src/components/Calendar.tsx`:** `onSelectRange` prop 호출 전에 `onSelectRange`가 존재하는지 확인하는 조건부 로직 추가.
    *   **`src/components/DailyDetailArea.tsx`:**
        *   `TaskList` 컴포넌트에 `onDelete` 대신 `onDeleteTask`를 전달하도록 수정. (이후 `TaskList`에서 `onDeleteTask`가 제거됨에 따라 이 prop도 제거)
        *   `TaskList` 컴포넌트에 `onToggleComplete` 대신 `onToggleTaskComplete`를 전달하도록 수정.
        *   `TaskList` 컴포넌트에 `onEditTask` prop 전달 제거.
        *   `TaskList` 컴포넌트에 `onDeleteTask` prop 전달 제거.
    *   **`src/components/TaskEditorModal.tsx`:**
        *   `selectedGoalId` 상태의 타입을 `number | null | undefined`로 변경하여 `null` 값을 처리할 수 있도록 함.
        *   `handleSave` 함수에서 `goalId`를 할당할 때 `selectedGoalId`가 `undefined`인 경우 `null`로 처리하도록 수정.
        *   `handleSelectGoal` 함수의 시그니처를 `(goalId: number | null | undefined) => void`로 변경하여 `GoalAutocomplete`의 `onSelectGoal` prop 타입과 일치시킴.
    *   **`src/components/TaskList.tsx`:**
        *   `TaskListProps` 인터페이스에서 `onDeleteTask` 및 `onEditTask` prop 제거.
        *   `TaskItem` 컴포넌트 사용 시 `onDelete` 및 `onEdit` prop 전달 제거.

### 결론

두 가지 주요 버그를 해결하였으며, 이 과정에서 발생한 다수의 TypeScript 컴파일 에러와 린트 경고를 해결하여 프로젝트의 안정성과 코드 품질을 향상시켰습니다. 모든 수정 후 `npm run build`를 성공적으로 완료했습니다.
