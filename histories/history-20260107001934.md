# 작업 내역 (2026-01-07)

## 작업 내용

1.  **Task 삭제 및 날짜 변경 시 정렬 로직 개선 (`src/components/DailyDetailArea.tsx`)**
    *   `handleDeleteTask` 함수 수정:
        *   Task 삭제 시 해당 Task가 속해있던 날짜의 나머지 Task들을 조회하여 `order` 값을 0부터 순차적으로 재정렬하도록 로직 추가.
        *   `db.transaction`을 사용하여 삭제와 재정렬이 원자적으로 수행되도록 보장.
    *   `handleSaveEditedTask` 함수 수정:
        *   Task 수정 시 날짜가 변경되었는지 확인.
        *   날짜가 변경된 경우:
            1.  변경된 날짜(새 날짜)의 가장 마지막 순서(`maxOrder + 1`)로 Task를 이동.
            2.  이전 날짜(기존 날짜)의 나머지 Task들을 조회하여 `order` 값을 0부터 순차적으로 재정렬.
        *   날짜가 변경되지 않은 경우:
            *   기존 로직대로 Task 정보만 업데이트.
        *   `db.transaction`을 사용하여 모든 변경 사항이 안전하게 처리되도록 구현.

2.  **코드 정리 (`src/components/GoalSelectionBottomSheet.tsx`)**
    *   사용하지 않는 `formatDateToYYYYMMDD` import 제거하여 빌드 경고 해결.

## 변경된 파일
*   `src/components/DailyDetailArea.tsx`
*   `src/components/GoalSelectionBottomSheet.tsx`
